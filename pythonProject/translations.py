#!/usr/bin/env python3
"""
Translation system for English and German
"""

TRANSLATIONS = {
    'en': {
        'title': 'DICOM Metadata Browser',
        'database': 'Database',
        'upload': 'Upload',
        'close_upload': 'Close Upload',
        'drop_files': 'Drop ZIP or 7Z files here',
        'click_to_browse': 'or click to browse',
        'supports': 'Supports: .zip, .7z',
        'uploading': 'Uploading',
        'processing': 'Processing...',
        'success': 'Success',
        'error': 'Error',
        'search': 'Search',
        'clear': 'Clear',
        'search_placeholder': 'Search by patient name, ID, modality, radiopharmaceutical, manufacturer...',
        'searching_for': 'Searching for',
        'results_found': 'result(s) found',
        'no_results': 'no results',
        'study_deleted': 'Study deleted successfully',
        'series_removed': 'series removed',
        'back_to_studies': 'Back to Studies',
        'delete_study': 'Delete Study',
        'delete_confirm': 'Are you sure you want to delete this study and all its series? This action cannot be undone.',
        'dashboard': 'Dashboard',
        'dashboard_title': 'Analytics Dashboard',
        'dashboard_subtitle': 'Protocol Adherence and Distribution Analysis',
        'refresh': 'Refresh',
        'protocol_adherence': 'Protocol Adherence',
        'uptake_time_adherence': 'Uptake Time Adherence',
        'dose_adherence': 'Dose per kg Adherence',
        'ideal_uptake_time': 'Ideal',
        'ideal_dose': 'Ideal',
        'uptake_time_distribution': 'Injection-to-Scan Time Distribution',
        'dose_distribution': 'Injected Dose per kg Distribution',
        'uptake_time_minutes': 'Uptake Time (minutes)',
        'dose_mbq_kg': 'Dose (MBq/kg)',
        'modalities': 'Modalities',
        'filters': 'Filters',
        'filter_series': 'Filter series',
        'uptake_time_min': 'Uptake time min',
        'uptake_time_max': 'Uptake time max',
        'dose_per_kg_min': 'Dose per kg min',
        'dose_per_kg_max': 'Dose per kg max',
        'apply_filters': 'Apply filters',
        'clear_filters': 'Clear filters',
        'filtered_series': 'Filtered series',
        'no_series_match': 'No series match the selected range',
        'view_study': 'View study',
        'delay_minutes': 'Delay (min)',
        'mean': 'Mean',
        'median': 'Median',
        'std_dev': 'Std Dev',
        'range': 'Range',
        'series_count': 'Series Count',
        'count': 'Count',
        'percentage': 'Percentage',
        'series': 'series',
        'minutes': 'minutes',
        'mbq_kg': 'MBq/kg',
        'total_studies': 'Total Studies',
        'total_series': 'Total Series',
        'data_quality': 'Data Quality & Compliance',
        'throughput': 'Throughput & Timing',
        'demographics': 'Demographics',
        'ct_dose_metrics': 'CT Dose Metrics',
        'modality_metrics': 'Modality Adherence',
        'radiopharmaceutical_metrics': 'Radiopharmaceutical Adherence',
        'missing_weight': 'Missing Weight',
        'missing_height': 'Missing Height',
        'missing_birth_date': 'Missing Birth Date',
        'missing_injection_time': 'Missing Injection Time',
        'missing_acquisition_time': 'Missing Acquisition Time',
        'ctp_flagged': 'CTP Flags Present',
        'repeat_rate': 'Repeat/Redo Rate',
        'scan_duration': 'Scan Duration',
        'study_hour': 'Study Hour',
        'age_bucket': 'Age Bucket',
        'uptake_within_range': 'Uptake within range',
        'dose_within_range': 'Dose within range',
        'patient_information': 'Patient Information',
        'patient_name': 'Patient Name',
        'patient_id': 'Patient ID',
        'patient_birth_date': 'Birth Date',
        'patient_sex': 'Sex',
        'patient_age': 'Age',
        'patient_weight': 'Weight',
        'patient_height': 'Height',
        'bmi': 'BMI',
        'study_information': 'Study Information',
        'study_date': 'Study Date',
        'study_time': 'Study Time',
        'study_description': 'Description',
        'study_id': 'Study ID',
        'accession_number': 'Accession Number',
        'referring_physician': 'Referring Physician',
        'acquisition_date': 'Acquisition Date',
        'acquisition_time': 'Acquisition Time',
        'series_date': 'Series Date',
        'series_time': 'Series Time',
        'injection_date': 'Injection Date',
        'acquisition_information': 'Acquisition Information',
        'protocol_name': 'Protocol Name',
        'patient_position': 'Patient Position',
        'scanning_sequence': 'Scanning Sequence',
        'sequence_variant': 'Sequence Variant',
        'scan_options': 'Scan Options',
        'acquisition_type': 'Acquisition Type',
        'kvp': 'KVP',
        'exposure_time': 'Exposure Time',
        'exposure': 'Exposure',
        'tube_current': 'Tube Current',
        'spiral_pitch_factor': 'Spiral Pitch Factor',
        'ctdivol': 'CTDIvol',
        'dlp': 'DLP',
        'frame_time': 'Frame Time',
        'reconstruction_information': 'Reconstruction Information',
        'reconstruction_diameter': 'Reconstruction Diameter',
        'reconstruction_algorithm': 'Reconstruction Algorithm',
        'convolution_kernel': 'Convolution Kernel',
        'filter_type': 'Filter Type',
        'image_information': 'Image Information',
        'image_orientation_patient': 'Image Orientation (Patient)',
        'slice_location': 'Slice Location',
        'number_of_slices': 'Images in Acquisition',
        'number_of_frames': 'Number of Frames',
        'manufacturer_information': 'Manufacturer Information',
        'manufacturer': 'Manufacturer',
        'model': 'Model',
        'station_name': 'Station Name',
        'software_version': 'Software Version',
        'institution': 'Institution',
        'series': 'Series',
        'series_number': 'Series #',
        'description': 'Description',
        'modality': 'Modality',
        'injection_time': 'Injection Time',
        'acquisition_datetime': 'Acquisition Date/Time',
        'injection_delay': 'Injection→Scan Delay',
        'details': 'Details',
        'show_details': 'Show Details',
        'hide_details': 'Hide Details',
        'dark_mode': 'Dark Mode',
        'light_mode': 'Light Mode',
        'nuclear_medicine_information': 'Nuclear Medicine Information',
        'radiopharmaceutical': 'Radiopharmaceutical',
        'injected_activity': 'Injected Activity',
        'half_life': 'Half Life',
        'decay_correction': 'Decay Correction',
        'radiopharmaceutical_volume': 'Radiopharmaceutical Volume',
        'radionuclide_total_dose': 'Radionuclide Total Dose',
        'activity_at_scan': 'Activity at Scan Time',
        'decayed': 'decayed',
        'activity_per_kg': 'Activity per kg Body Weight',
        'likely_next_day': 'likely next day',
        'series_information': 'Series Information',
        'series_uid': 'Series UID',
        'file_path': 'File Path',
        'body_part': 'Body Part',
        'slice_thickness': 'Slice Thickness',
        'pixel_spacing': 'Pixel Spacing',
        'image_type': 'Image Type',
        'study_uid': 'Study UID',
        'ctp_private_metadata': 'CTP Private Metadata',
        'ctp_collection': 'CTP Collection',
        'ctp_subject_id': 'CTP Subject ID',
        'ctp_private_flag_raw': 'CTP Private Flag (raw)',
        'ctp_private_flag_int': 'CTP Private Flag (int)',
        'export_csv': 'Export CSV',
        'export_csv_title': 'Export Study Data',
        'export_select_fields': 'Choose fields for CSV export',
        'export_select_all': 'Select all',
        'export_select_none': 'Select none',
        'export_download': 'Download CSV',
        'export_select_one': 'Select at least one field to export.',
        'export_file_metadata': 'File Metadata',
        'export_row_id': 'Row ID',
        'export_created_at': 'Created At',
        'injected_activity_unit': 'Injected Activity Unit',
        'cancel': 'Cancel',
        'close': 'Close',
        'no_studies_found': 'No studies found',
        'process_files': 'Process some DICOM files first using:',
        'no_results_found': 'No results found',
        'no_matches': 'No studies match',
        'show_all_studies': 'Show all studies',
        'male': 'M',
        'female': 'F',
        'other': 'O',
        'unknown': 'Unknown',
        'top_bar_primary': 'Klinik & Poliklinik für Nuklearmedizin',
        'top_bar_secondary': 'TUM Klinikum Rechts der Isar',
        'top_bar_right_top': 'TUM SCHOOL OF MEDICINE AND HEALTH',
        'top_bar_right_bottom': 'UNIVERSITÄTSKLINIKUM TUM',
    },
    'de': {
        'title': 'DICOM-Metadaten-Browser',
        'database': 'Datenbank',
        'upload': 'Hochladen',
        'close_upload': 'Upload schließen',
        'drop_files': 'ZIP- oder 7Z-Dateien hier ablegen',
        'click_to_browse': 'oder klicken zum Durchsuchen',
        'supports': 'Unterstützt: .zip, .7z',
        'uploading': 'Wird hochgeladen',
        'processing': 'Wird verarbeitet...',
        'success': 'Erfolg',
        'error': 'Fehler',
        'search': 'Suchen',
        'clear': 'Löschen',
        'search_placeholder': 'Suche nach Patientname, ID, Modalität, Radiopharmazeutikum, Hersteller...',
        'searching_for': 'Suche nach',
        'results_found': 'Ergebnis(se) gefunden',
        'no_results': 'keine Ergebnisse',
        'study_deleted': 'Studie erfolgreich gelöscht',
        'series_removed': 'Serien entfernt',
        'back_to_studies': 'Zurück zu Studien',
        'delete_study': 'Studie löschen',
        'delete_confirm': 'Sind Sie sicher, dass Sie diese Studie und alle ihre Serien löschen möchten? Diese Aktion kann nicht rückgängig gemacht werden.',
        'dashboard': 'Dashboard',
        'dashboard_title': 'Analytik-Dashboard',
        'dashboard_subtitle': 'Protokoll-Einhaltung und Verteilungsanalyse',
        'refresh': 'Aktualisieren',
        'protocol_adherence': 'Protokoll-Einhaltung',
        'uptake_time_adherence': 'Uptake-Zeit Einhaltung',
        'dose_adherence': 'Dosis pro kg Einhaltung',
        'ideal_uptake_time': 'Ideal',
        'ideal_dose': 'Ideal',
        'uptake_time_distribution': 'Injektion-zu-Scan Zeit Verteilung',
        'dose_distribution': 'Injizierte Dosis pro kg Verteilung',
        'uptake_time_minutes': 'Uptake-Zeit (Minuten)',
        'dose_mbq_kg': 'Dosis (MBq/kg)',
        'modalities': 'Modalitäten',
        'filters': 'Filter',
        'filter_series': 'Serien filtern',
        'uptake_time_min': 'Uptake-Zeit min',
        'uptake_time_max': 'Uptake-Zeit max',
        'dose_per_kg_min': 'Dosis pro kg min',
        'dose_per_kg_max': 'Dosis pro kg max',
        'apply_filters': 'Filter anwenden',
        'clear_filters': 'Filter löschen',
        'filtered_series': 'Gefilterte Serien',
        'no_series_match': 'Keine Serien passen zum ausgewählten Bereich',
        'view_study': 'Studie ansehen',
        'delay_minutes': 'Verzögerung (Min)',
        'mean': 'Mittelwert',
        'median': 'Median',
        'std_dev': 'Std-Abw',
        'range': 'Bereich',
        'series_count': 'Serien Anzahl',
        'count': 'Anzahl',
        'percentage': 'Prozent',
        'series': 'Serien',
        'minutes': 'Minuten',
        'mbq_kg': 'MBq/kg',
        'total_studies': 'Studien gesamt',
        'total_series': 'Serien gesamt',
        'data_quality': 'Datenqualitat & Compliance',
        'throughput': 'Durchsatz & Timing',
        'demographics': 'Demografie',
        'ct_dose_metrics': 'CT-Dosis Kennzahlen',
        'modality_metrics': 'Modalitats-Adhaerenz',
        'radiopharmaceutical_metrics': 'Radiopharmaka-Adhaerenz',
        'missing_weight': 'Gewicht fehlt',
        'missing_height': 'Große fehlt',
        'missing_birth_date': 'Geburtsdatum fehlt',
        'missing_injection_time': 'Injektionszeit fehlt',
        'missing_acquisition_time': 'Aufnahmezeit fehlt',
        'ctp_flagged': 'CTP-Flags vorhanden',
        'repeat_rate': 'Wiederholungsrate',
        'scan_duration': 'Scan-Dauer',
        'study_hour': 'Studienstunde',
        'age_bucket': 'Altersgruppe',
        'uptake_within_range': 'Uptake im Bereich',
        'dose_within_range': 'Dosis im Bereich',
        'patient_information': 'Patienteninformationen',
        'patient_name': 'Patientenname',
        'patient_id': 'Patienten-ID',
        'patient_birth_date': 'Geburtsdatum',
        'patient_sex': 'Geschlecht',
        'patient_age': 'Alter',
        'patient_weight': 'Gewicht',
        'patient_height': 'Größe',
        'bmi': 'BMI',
        'study_information': 'Studieninformationen',
        'study_date': 'Studiendatum',
        'study_time': 'Studienzeit',
        'study_description': 'Beschreibung',
        'study_id': 'Studien-ID',
        'accession_number': 'Zugangsnummer',
        'referring_physician': 'Überweisender Arzt',
        'acquisition_date': 'Aufnahmedatum',
        'acquisition_time': 'Aufnahmezeit',
        'series_date': 'Seriendatum',
        'series_time': 'Serienzeit',
        'injection_date': 'Injektionsdatum',
        'acquisition_information': 'Aufnahmeinformationen',
        'protocol_name': 'Protokollname',
        'patient_position': 'Patientenposition',
        'scanning_sequence': 'Scan-Sequenz',
        'sequence_variant': 'Sequenzvariante',
        'scan_options': 'Scan-Optionen',
        'acquisition_type': 'Aufnahmetyp',
        'kvp': 'KVP',
        'exposure_time': 'Belichtungszeit',
        'exposure': 'Exposition',
        'tube_current': 'Röhrenstrom',
        'spiral_pitch_factor': 'Spiral-Pitch-Faktor',
        'ctdivol': 'CTDIvol',
        'dlp': 'DLP',
        'frame_time': 'Frame-Zeit',
        'reconstruction_information': 'Rekonstruktionsinformationen',
        'reconstruction_diameter': 'Rekonstruktionsdurchmesser',
        'reconstruction_algorithm': 'Rekonstruktionsalgorithmus',
        'convolution_kernel': 'Faltungskern',
        'filter_type': 'Filtertyp',
        'image_information': 'Bildinformationen',
        'image_orientation_patient': 'Bildorientierung (Patient)',
        'slice_location': 'Schnittposition',
        'number_of_slices': 'Bilder in der Aufnahme',
        'number_of_frames': 'Anzahl Frames',
        'manufacturer_information': 'Herstellerinformationen',
        'manufacturer': 'Hersteller',
        'model': 'Modell',
        'station_name': 'Station Name',
        'software_version': 'Software-Version',
        'institution': 'Institution',
        'series': 'Serien',
        'series_number': 'Serie #',
        'description': 'Beschreibung',
        'modality': 'Modalität',
        'injection_time': 'Injektionszeit',
        'acquisition_datetime': 'Aufnahme Datum/Zeit',
        'injection_delay': 'Injektion→Aufnahme Verzögerung',
        'details': 'Details',
        'show_details': 'Details anzeigen',
        'hide_details': 'Details ausblenden',
        'dark_mode': 'Dunkelmodus',
        'light_mode': 'Hellmodus',
        'nuclear_medicine_information': 'Nuklearmedizinische Informationen',
        'radiopharmaceutical': 'Radiopharmazeutikum',
        'injected_activity': 'Injizierte Aktivität',
        'half_life': 'Halbwertszeit',
        'decay_correction': 'Zerfallskorrektur',
        'radiopharmaceutical_volume': 'Radiopharmazeutikum Volumen',
        'radionuclide_total_dose': 'Radionuklid Gesamtdosis',
        'activity_at_scan': 'Aktivität zum Scan-Zeitpunkt',
        'decayed': 'zerfallen',
        'activity_per_kg': 'Aktivität pro kg Körpergewicht',
        'likely_next_day': 'wahrscheinlich nächster Tag',
        'series_information': 'Serieninformationen',
        'series_uid': 'Serien-UID',
        'file_path': 'Dateipfad',
        'body_part': 'Körperteil',
        'slice_thickness': 'Schichtdicke',
        'pixel_spacing': 'Pixelabstand',
        'image_type': 'Bildtyp',
        'study_uid': 'Studien-UID',
        'ctp_private_metadata': 'CTP Private Metadaten',
        'ctp_collection': 'CTP Kollektion',
        'ctp_subject_id': 'CTP Subjekt-ID',
        'ctp_private_flag_raw': 'CTP Privat-Flagge (roh)',
        'ctp_private_flag_int': 'CTP Privat-Flagge (int)',
        'export_csv': 'CSV exportieren',
        'export_csv_title': 'Studiendaten exportieren',
        'export_select_fields': 'Felder fur den CSV-Export auswahlen',
        'export_select_all': 'Alle auswahlen',
        'export_select_none': 'Keine auswahlen',
        'export_download': 'CSV herunterladen',
        'export_select_one': 'Bitte mindestens ein Feld fur den Export auswahlen.',
        'export_file_metadata': 'Datei-Metadaten',
        'export_row_id': 'Zeilen-ID',
        'export_created_at': 'Erstellt am',
        'injected_activity_unit': 'Einheit der injizierten Aktivitat',
        'cancel': 'Abbrechen',
        'close': 'Schliessen',
        'no_studies_found': 'Keine Studien gefunden',
        'process_files': 'Verarbeiten Sie zunächst einige DICOM-Dateien mit:',
        'no_results_found': 'Keine Ergebnisse gefunden',
        'no_matches': 'Keine Studien entsprechen',
        'show_all_studies': 'Alle Studien anzeigen',
        'male': 'M',
        'female': 'W',
        'other': 'D',
        'unknown': 'Unbekannt',
        'top_bar_primary': 'Klinik & Poliklinik für Nuklearmedizin',
        'top_bar_secondary': 'TUM Klinikum Rechts der Isar',
        'top_bar_right_top': 'TUM SCHOOL OF MEDICINE AND HEALTH',
        'top_bar_right_bottom': 'UNIVERSITÄTSKLINIKUM TUM',
    }
}


def get_translation(lang: str = 'en') -> dict:
    """Get translation dictionary for a language"""
    return TRANSLATIONS.get(lang, TRANSLATIONS['en'])


def translate(key: str, lang: str = 'en', default: str = None) -> str:
    """Translate a key to the specified language"""
    translations = get_translation(lang)
    return translations.get(key, default or key)
